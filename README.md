# Проектная работа 11-го спринта

[Макет](https://www.figma.com/file/vIywAvqfkOIRWGOkfOnReY/React-Fullstack_-Проектные-задачи-(3-месяца)_external_link?type=design&node-id=0-1&mode=design)

[Чеклист](https://www.notion.so/praktikum/0527c10b723d4873aa75686bad54b32e?pvs=4)

## Используемые технологии

- Create React App — для быстрого и удобного старта разработки проекта
- Redux Toolkit — эффективное управление состоянием приложения
- React Router с полной системой авторизации: регистрация, восстановление и сброс пароля, профиль пользователя
- Хранение токенов в cookie — надёжный и удобный способ авторизации
- Защищённые маршруты — ограничение доступа к страницам без авторизации
- TypeScript — строгая типизация компонентов и утилит для повышения надёжности
- Тестирование бизнес-логики с помощью тестов всех редьюсеров
- Функциональное тестирование с использованием Cypress
- WebSocket — для real-time обновления статуса заказов
- CSS Modules — для изолированных стилей компонентов

## Установка и запуск проекта

1. Клонируйте репозиторий
2. Установите зависимости:
```bash
npm i
```
3. Создайте файл `.env` в корневой директории и добавьте переменную окружения:
```
BURGER_API_URL=[url-api]
```
4. Запустите проект:
```bash
npm start
```

## Основной функционал

- Конструктор бургеров с drag-and-drop функционалом
- Система авторизации и регистрации пользователей
- История заказов с real-time обновлениями
- Защищенные маршруты для авторизованных пользователей
- Адаптивный дизайн для всех устройств

## Тестирование

### Jest тесты

В проекте реализованы unit-тесты для всех Redux слайсов:

- Тестирование начального состояния
- Тестирование асинхронных действий (pending, rejected, fulfilled состояния)
- Тестирование селекторов
- Тестирование синхронных действий

Для запуска тестов:
```bash
# Запуск всех тестов
npm test

# Запуск конкретного теста
npm test -- src/services/slices/userSlice/userSlice.test.ts

# Запуск тестов с определенным названием
npm test -- -t "должен вернуть начальное состояние"
```

Тесты покрывают следующие слайсы:
- `userSlice` - тесты авторизации, регистрации, выхода
- `ingredientSlice` - тесты получения ингредиентов
- `constructorSlice` - тесты конструктора бургера
- `feedSlice` - тесты ленты заказов
- `orderSlice` - тесты заказов
- `store` - тесты конфигурации Redux store

### Cypress тесты

В проекте реализованы интеграционные тесты для страницы конструктора бургера:

- Тестирование добавления ингредиентов в конструктор
- Проверка работы модальных окон (открытие/закрытие)
- Тестирование создания заказа
- Проверка авторизации и работы с токенами

Для запуска тестов:
```bash
# Запуск Cypress в интерактивном режиме
npm run cypress:open

# Запуск Cypress в headless режиме
npm run cypress:run
```

Тесты используют моковые данные для:
- Ингредиентов (fixtures/ingredients.json)
- Ответов API
- Токенов авторизации
